<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Demo</title>
    <meta name="description" content="360Â° Image Experience using A-Frame">
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <style>
        #overlay {
            background: rgba(0, 0, 0, 0.8) url('./back.jpg') no-repeat center center;
            background-size: cover;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            color: white;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            cursor: pointer;

        }
        #startButton {
            padding: 10px 20px;
            font-size: 20px;
            cursor: pointer;
        }
    </style>
    <script>
        window.addEventListener('load', function() {
            // Get the video element
            var videoEl = document.querySelector('#penguin-sledding');

            // Get the entity that will trigger the video play/pause
            var triggerEl = document.querySelector('#video-trigger');

            // Play video on mouseenter
            triggerEl.addEventListener('mouseenter', function() {
                videoEl.play();
            });

            // Pause video on mouseleave
            triggerEl.addEventListener('mouseleave', function() {
                videoEl.pause();
            });
        });
       
    </script>
</head>
<body>
    <div id="overlay">
        <img src="./start.png" id="startButton"/>
    </div>    <a-scene style="height: 100vh;">
        <a-assets>
            <video id="penguin-sledding" autoplay loop="true" src="./test.webm"></video>
            <img id="my-image" src="popup1.png">
            <audio id="river" src="sound.mp3" preload="auto"></audio>
          </a-assets>
        <a-sky src="./hanni2.webp" rotation="0 -130 0">
        </a-sky>
        <a-camera><a-entity cursor geometry="primitive:torus  ; radius:0.2 ;radius-tubular:0.001;"  opacity="0"  material="color: white;shader: flat;" position="0 0 -2"></a-entity></a-camera>

        <!-- <a-box position="0,1 1.5 -3" color="blue"
        animation__mouseenter="property: visible; from: false; to: true; startEvents: mouseenter; dur: 200";
        animation__mouseleave="property: visible; from: true; to: false; startEvents: mouseleave; dur: 200";></a-box> -->
       

        <a-sphere  position="10.089 5.723 -20.000" color="white"material="opacity: 0.7; roughness:5;  shader: flat;"
        animation__mouseenter="property: visible; from: true; to: false; startEvents: mouseenter; dur: 200";
        animation__mouseleave="property: visible; from: false; to: true; startEvents: mouseleave; dur: 200";
        ></a-sphere >

        <a-sphere  position="11.767 12.581 21.231" color="white"material="opacity: 0.7;  shader: flat"
        animation__mouseenter="property: visible; from: true; to: false; startEvents: mouseenter; dur: 200";
        animation__mouseleave="property: visible; from: false; to: true; startEvents: mouseleave; dur: 200";
        ></a-sphere >
        <a-sphere id="sound" position="-30 1.5 1" color="red"material="opacity: 0.7;  shader: flat"
        animation__mouseenter="property: visible; from: true; to: false; startEvents: mouseenter; dur: 200";
        animation__mouseleave="property: visible; from: false; to: true; startEvents: mouseleave; dur: 200";
        event-set__mouseenter="_event: mouseenter; _target: #river-sound; sound.play"
        event-set__mouseleave="_event: mouseleave; _target: #river-sound; sound.pause" >
        <a-sound src="#river" autoplay="false" 
        ></a-sound>
</a-sphere>
        ></a-sphere>
        <a-video id="video-trigger" autoplay="false" src="#penguin-sledding" width="16" height="9" visible="false" rotation="0 -19 -2" position="8.089 5.723 -15.000" animation__mouseenter="property: visible; from: false; to: true; startEvents: mouseenter; dur: 200";
        animation__mouseleave="property: visible; from: true; to: false; startEvents: mouseleave; dur: 200";
        ></a-video>
        <a-image src="#my-image" width="12" height="9" position="10.687 12.551 17.911" visible="false" rotation="10 -149 0" animation__mouseenter="property: visible; from: false; to: true;  startEvents: mouseenter; dur: 200";
        animation__mouseleave="property: visible; from: true; to: false; startEvents: mouseleave; dur: 200";></a-image>
        <!-- <a-sound id="load-sound" src="#river" autoplay="false" position="0 1.5 -20"></a-sound> -->

</a-image>

       
        
    </a-scene>
    <script>
        document.querySelector('#startButton').addEventListener('click', function() {
            document.querySelector('#overlay').style.display = 'none';
            AFRAME.registerComponent('play-sound-on-hover', {
    init: function () {
        // Wait for the A-Frame scene to be loaded
        this.el.sceneEl.addEventListener('loaded', () => {
            // Assuming the sound element has an id of 'my-sound'
            var soundEl = document.querySelector('#sound');

            if (soundEl) {
                soundEl.addEventListener('mouseenter', function () {
                    if (soundEl.components.sound) {
                        soundEl.components.sound.playSound();
                    }
                });

                soundEl.addEventListener('mouseleave', function () {
                    if (soundEl.components.sound) {
                        soundEl.components.sound.pauseSound();
                    }
                });
            } else {
                console.error("Sound element with ID 'my-sound' not found.");
            }
        });
    }
});
        });
    </script>
</body>
</html>
